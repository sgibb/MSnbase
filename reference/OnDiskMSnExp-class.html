<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The <code>OnDiskMSnExp</code> Class for MS Data And Meta-Data — OnDiskMSnExp-class • MSnbase</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="The <code>OnDiskMSnExp</code> Class for MS Data And Meta-Data — OnDiskMSnExp-class" />

<meta property="og:description" content="Like the MSnExp class, the OnDiskMSnExp class
  encapsulates data and meta-data for mass spectrometry
  experiments, but does, in contrast to the former, not keep the
  spectrum data in memory, but fetches the M/Z and intensity values on
  demand from the raw files. This results in some instances to a
  reduced performance, has however the advantage of a much smaller
  memory footprint." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MSnbase</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.7.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/v01-MSnbase-demo.html">MSnbase: MS data processing, visualisation and quantification</a>
    </li>
    <li>
      <a href="../articles/v02-MSnbase-io.html">MSnbase IO capabilities</a>
    </li>
    <li>
      <a href="../articles/v03-MSnbase-centroiding.html">MSnbase: centroiding of profile-mode MS data</a>
    </li>
    <li>
      <a href="../articles/v04-benchmarking.html">MSnbase2 benchmarking</a>
    </li>
    <li>
      <a href="../articles/v05-MSnbase-development.html">A short introduction to *MSnbase* development</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lgatto/MSnbase">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>The <code>OnDiskMSnExp</code> Class for MS Data And Meta-Data</h1>
    
    <div class="hidden name"><code>OnDiskMSnExp-class.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Like the <code><a href='MSnExp-class.html'>MSnExp</a></code> class, the <code>OnDiskMSnExp</code> class
  encapsulates data and meta-data for mass spectrometry
  experiments, but does, in contrast to the former, not keep the
  spectrum data in memory, but fetches the M/Z and intensity values on
  demand from the raw files. This results in some instances to a
  reduced performance, has however the advantage of a much smaller
  memory footprint.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>OnDiskMSnExp</code> object stores many spectrum related
  information into the <code>featureData</code>, thus, some calls, like
  <code>rtime</code> to retrieve the retention time of the individual scans
  does not require the raw data to be read. Only M/Z and intensity
  values are loaded on-the-fly from the original files. Extraction of
  values for individual scans is, for mzML files, very fast. Extraction
  of the full data (all spectra) are performed in a per-file parallel
  processing strategy.</p>
<p>Data manipulations related to spectras' M/Z or intensity values
  (e.g. <code><a href='removePeaks-methods.html'>removePeaks</a></code> or <code><a href='clean-methods.html'>clean</a></code>) are (for
  <code>OnDiskMSnExp</code> objects) not applied immediately, but are stored
  for later execution into the <code>spectraProcessingQueue</code>. The
  manipulations are performed <em>on-the-fly</em> upon data retrieval.
  Other manipulations, like removal of individual spectra are applied
  directly, since the corresponding data is available in the object's
  <code>featureData</code> slot.</p>
    
    <h2 class="hasAnchor" id="objects-from-the-class"><a class="anchor" href="#objects-from-the-class"></a>Objects from the Class</h2>

    <p>Objects can be created by calls of the form
  <code>new("OnDiskMSnExp",...)</code>. However, it is preferred to use the
  <code><a href='readMSData.html'>readMSData</a></code> function with argument <code>backend="disk"</code>
  that will read raw mass spectrometry data to generate a valid
  <code>"OnDiskMSnExp"</code> instance.</p>
    
    <h2 class="hasAnchor" id="slots"><a class="anchor" href="#slots"></a>Slots</h2>

    <p></p><dl class='dl-horizontal'>
    <dt><code>backend</code>:</dt><dd><p>Character string specifying the used backend.</p></dd>
    <dt><code>spectraProcessingQueue</code>:</dt><dd><p><code>list</code> of <code><a href='ProcessingStep-class.html'>ProcessingStep</a></code> objects
      defining the functions to be applied <em>on-the-fly</em> to the
      spectra data (M/Z and intensity duplets).</p></dd>
    <dt><code>assayData</code>:</dt><dd><p>Object of class <code>"environment"</code> that
      is however empty, as no spectrum data is stored.
      Slot is inherited from <code>"<a href='pSet-class.html'>pSet</a>"</code>.</p></dd>
    <dt><code>phenoData</code>:</dt><dd><p>Object of class
      <code>"<a href='NAnnotatedDataFrame-class.html'>NAnnotatedDataFrame</a>"</code> containing
      experimenter-supplied variables describing sample (i.e the
      individual tags for an labelled MS experiment)
      See <code>phenoData</code> for more details.
      Slot is inherited from <code>"<a href='pSet-class.html'>pSet</a>"</code>.</p></dd>
    <dt><code>featureData</code>:</dt><dd><p>Object of class
      <code>"AnnotatedDataFrame"</code> containing variables
      describing features (spectra in our case). See
      <code>featureData</code> for more details.
      Slot is inherited from <code>"<a href='pSet-class.html'>pSet</a>"</code>.</p></dd>
    <dt><code>experimentData</code>:</dt><dd><p>Object of class
      <code>"<a href='MIAPE-class.html'>MIAPE</a>"</code>, containing details of experimental
      methods. See <code>experimentData</code> for more details.
      Slot is inherited from <code>"<a href='pSet-class.html'>pSet</a>"</code>.</p></dd>
    <dt><code>protocolData</code>:</dt><dd><p>Object of class
      <code>"AnnotatedDataFrame"</code> containing
      equipment-generated variables (inherited from
      <code>"eSet"</code>). See <code>protocolData</code> for
      more details.
      Slot is inherited from <code>"<a href='pSet-class.html'>pSet</a>"</code>.</p></dd>
    <dt><code>processingData</code>:</dt><dd><p>Object of class
      <code>"<a href='MSnProcess-class.html'>MSnProcess</a>"</code> that records all processing.
      Slot is inherited from <code>"<a href='pSet-class.html'>pSet</a>"</code>.</p></dd>
    <dt><code>.__classVersion__</code>:</dt><dd><p>Object of class
      <code>"Versions"</code> describing the versions of R,
      the Biobase package, <code>"<a href='pSet-class.html'>pSet</a>"</code> and
      <code>MSnExp</code> of the current instance.
      Slot is inherited from <code>"<a href='pSet-class.html'>pSet</a>"</code>.
      Intended for developer use and debugging (inherited from
      <code>"eSet"</code>).</p></dd>
  </dl>
    
    <h2 class="hasAnchor" id="extends"><a class="anchor" href="#extends"></a>Extends</h2>

    <p>Class <code>"<a href='MSnExp-class.html'>MSnExp</a>"</code>, directly.
Class <code>"<a href='pSet-class.html'>pSet</a>"</code>, by class "MSnExp", distance 3.
Class <code>"VersionedBiobase"</code>, by class "pSet", distance 4.
Class <code>"Versioned"</code>, by class "pSet", distance 5.</p>
    
    <h2 class="hasAnchor" id="getter-setter-methods"><a class="anchor" href="#getter-setter-methods"></a>Getter/setter methods</h2>

    <p>(in alphabetical order)
  See also methods for <code><a href='MSnExp-class.html'>MSnExp</a></code> or
  <code><a href='pSet-class.html'>pSet</a></code> objects.</p>
<p></p><dl class='dl-horizontal'>
    <dt>[</dt><dd><p><code>object[i]</code>:subset the <code>OnDiskMSnExp</code> by
      spectra.  <code>i</code> can be a <code>numeric</code> or <code>logical</code>
      vector specifying to which spectra the data set should be reduced
      (with <code>i</code> being the index of the spectrum in the object's
      <code>featureData</code>).
    The method returns a <code>OnDiskMSnExp</code> object with the data
    sub-set.</p></dd>
    <dt>[[</dt><dd><p><code>object[[i]]</code>: extract s single spectrum from the
      <code>OnDiskMSnExp</code> object <code>object</code>. Argument <code>i</code> can be
      either numeric or character specifying the index or the name of
      the spectrum in the object (i.e. in the <code>featureData</code>). The
      relevant information will be extracted from the corresponding raw
      data file.
    The method returns a <code>Spectrum1</code> object.</p></dd>
    <dt>acquisitionNum</dt><dd><p><code><a href='Spectrum-class.html'>acquisitionNum(signature(object="OnDiskMSnExp"))</a></code>: get the
      acquisition number of each spectrum in each individual file. The
      relevant information is extracted from the object's
      <code>featureData</code> slot.
    Returns a numeric vector with names corresponding to the spectrum
      names.</p></dd>
    <dt>assayData</dt><dd><p><code>assayData(signature(object = "OnDiskMSnExp"))</code>:
      Extract the full data, i.e. read all spectra from the original files,
      apply all processing steps from the <code>spectraProcessingQueue</code>
      slot and return the data. Due to the required processing time
      accessing the full data should be avoided wherever possible.
    Returns an <code>environment</code>.</p></dd>
    <dt>centroided,centroided&lt;-</dt><dd><p><code>centroided(signature(object="OnDiskMSnExp", msLevel, =
      "numeric"))</code>: whether individual spectra are centroided or
      uncentroided. The relevant information is extracted from the
      object's <code>featureData</code> slot. Returns a logical vector with
      names corresponding to the spectrum names.  Use
      <code>centroided(object) &lt;- value</code> to update the information, with
      value being a logical vector of length equal to the number of
      spectra in the experiment.</p></dd>
    <dt><code><a href='Spectrum-class.html'>isCentroided(object, k = 0.025, qtl = 0.9, verbose =
      TRUE)</a></code></dt><dd><p>A heuristic assessing if the spectra in the <code>object</code>
      are in profile or centroided mode. The function takes the
      <code>qtl</code>th quantile top peaks, then calculates the difference
      between adjacent M/Z value and returns <code>TRUE</code> if the first
      quartile is greater than <code>k</code>. (See
      <code>MSnbase:::.isCentroided</code> for the code.) If <code>verbose</code>
      (default), a table indicating mode for all MS levels is printed.
    The function has been tuned to work for MS1 and MS2 spectra and
      data centroided using different peak picking algorithms, but false
      positives can occur. See
      <a href='https://github.com/lgatto/MSnbase/issues/131'>https://github.com/lgatto/MSnbase/issues/131</a> for
      details. For whole experiments, where all MS1 and MS2 spectra are
      expected to be in the same, albeit possibly different modes, it is
      advised to assign the majority result for MS1 and MS2 spectra,
      rather than results for individual spectra.
    See also <code><a href='isCentroidedFromFile.html'>isCentroidedFromFile</a></code> that accessed the mode
      directly from the raw data file.</p></dd>
    <dt>smoothed,smoothed&lt;-</dt><dd><p><code><a href='Spectrum-class.html'>smoothed(signature(object="OnDiskMSnExp", msLevel. =
      "numeric"))</a></code>: whether individual spectra are smoothed or
      unsmoothed. The relevant information is extracted from the
      object's <code>featureData</code> slot. Returns a logical vector with
      names corresponding to the spectrum names.  Use
      <code>smoothed(object) &lt;- value</code> to update the information, with
      value being a logical vector of length equal to the number of
      spectra in the experiment.</p></dd>
    <dt>fromFile</dt><dd><p><code><a href='Spectrum-class.html'>fromFile(signature(object = "OnDiskMSnExp"))</a></code>: get the
      index of the file (in <code><a href='pSet-class.html'>fileNames(object)</a></code>) from which the
      spectra were read. The relevant information is extracted from the
      object's <code>featureData</code> slot.
    Returns a numeric vector with names corresponding to the spectrum
      names.</p></dd>
    <dt>intensity</dt><dd><p><code><a href='Spectrum-class.html'>intensity(signature(object="OnDiskMSnExp"))</a></code>:
      return the intensities from each spectrum in the data
      set. Intensities are first read from the raw files followed by an
      optional processing (depending on the processing steps defined in
      the <code>spectraProcessingQueue</code>). To reduce the amount of
      required  memory, this is performed on a per-file basis.
      The <code>BPPARAM</code> argument allows to specify how
      and if parallel processing should be used. Information from
      individual files will be processed in parallel (one process per
      original file).
    The method returns a <code>list</code> of numeric intensity values. Each
      list element represents the intensities from one spectrum.</p></dd>
    <dt>ionCount</dt><dd><p><code><a href='Spectrum-class.html'>ionCount(signature(object="OnDiskMSnExp",
	BPPARAM=bpparam()))</a></code>:
      extract the ion count (i.e. sum of intensity values) for each
      spectrum in the data set. The relevant data has to be extracted
      from the raw files (with eventually applying processing steps).
      The <code>BPPARAM</code> argument can be used to define how
      and if parallel processing should be used. Information from
      individual files will be processed in parallel (one process per
      original file).
    Returns a numeric vector with names corresponding to the spectrum
      names.</p></dd>
    <dt>length</dt><dd><p><code><a href='pSet-class.html'>length(signature(object="OnDiskMSnExp"))</a></code>:
      Returns the number of spectra of the current experiment.</p></dd>
    <dt>msLevel</dt><dd><p><code><a href='Spectrum-class.html'>msLevel(signature(object = "OnDiskMSnExp"))</a></code>: extract the
      MS level from the spectra. The relevant information is extracted
      from the object's <code>featureData</code> slot.
    Returns a numeric vector with names corresponding to the spectrum
      names.</p></dd>
    <dt>mz</dt><dd><p><code><a href='Spectrum-class.html'>mz(signature(object="OnDiskMSnExp"))</a></code>:
      return the M/Z values from each spectrum in the data
      set. M/Z values are first read from the raw files followed by an
      optional processing (depending on the processing steps defined in
      the <code>spectraProcessingQueue</code>). To reduce the amount of
      required  memory, this is performed on a per-file basis.
      The <code>BPPARAM</code> argument allows to specify how
      and if parallel processing should be used. Information from
      individual files will be processed in parallel (one process per
      original file).
    The method returns a <code>list</code> of numeric M/Z values. Each
      list element represents the values from one spectrum.</p></dd>
    <dt>peaksCount</dt><dd><p><code><a href='Spectrum-class.html'>peaksCount(signature(object="OnDiskMSnExp",
	scans="numeric"), BPPARAM=bpparam())</a></code>:
      extrac the peaks count from each spectrum in the object. Depending
      on the eventually present <code>ProcessingStep</code> objects in the
      <code>spectraProcessingQueue</code> raw data will be loaded to calculate
      the peaks count. If no steps are present, the data is extracted
      from the <code>featureData</code>. Optional argument <code>scans</code> allows
      to specify the index of specific spectra from which the count
      should be returned. The <code>BPPARAM</code> argument can be used to define how
      and if parallel processing should be used. Information from
      individual files will be processed in parallel (one process per
      original file).
    Returns a numeric vector with names corresponding to the spectrum
      names.</p></dd>
    <dt>polarity</dt><dd><p><code><a href='Spectrum-class.html'>polarity(signature(object="OnDiskMSnExp"))</a></code>:
      returns a numeric vector with the polarity of the individual
      spectra in the data set. The relevant information is extracted
      from the <code>featureData</code>.</p></dd>
    <dt>rtime</dt><dd><p><code><a href='Spectrum-class.html'>rtime(signature(object="OnDiskMSnExp"))</a></code>:
      extrac the retention time of the individual spectra in the data
      set (from the <code>featureData</code>).
    Returns a numeric vector with names corresponding to the spectrum
      names.</p></dd>
    <dt>scanIndex</dt><dd><p><code><a href='Spectrum-class.html'>scanIndex(signature(object="OnDiskMSnExp"))</a></code>:
      get the spectra scan indices within the respective file. The
      relevant information is extracted from the object's <code>featureData</code> slot.
      Returns a numeric vector of indices with names corresponding to the
      spectrum names.</p></dd>
    <dt>spectra</dt><dd><p><code><a href='pSet-class.html'>spectra(signature(object="OnDiskMSnExp"), BPPARAM=bpparam())</a></code>:
      extract spectrum data from the individual files. This causes the
      spectrum data to be read from the original raw files. After that
      all processing steps defined in the <code>spectraProcessingQueue</code>
      are applied to it. The results are then returned as a <code>list</code>
      of <code><a href='Spectrum1-class.html'>Spectrum1</a></code> objects.
    The <code>BPPARAM</code> argument can be used to define how and if
      parallel processing should be used. Information from individual
      files will be processed in parallel (one process per file).
      Note: extraction of selected spectra results in a considerable
      processing speed and should thus be preferred over whole data
      extraction.
    Returns a <code>list</code> of <code><a href='Spectrum1-class.html'>Spectrum1</a></code> objects
      with names corresponding to the spectrum names.</p></dd>
    <dt>tic</dt><dd><p><code><a href='Spectrum-class.html'>tic(signature(object="OnDiskMSnExp"), initial = TRUE,
      BPPARAM = bpparam())</a></code>:
      get the total ion current (TIC) of each spectrum in the data
      set. If <code>initial = TRUE</code>, the information is extracted from
      the object's <code>featureData</code> and represents the tic provided in
      the header of the original raw data files. For <code>initial =
      FALSE</code>, the TIC is calculated from the actual intensity values in
      each spectrum after applying all eventual data manipulation
      methods.
    See also https://github.com/lgatto/MSnbase/issues/332 for
      more details.
    <code>BPPARAM</code> parameter: see <code>spectra</code> method above.
    Returns a numeric vector with names corresponding to the spectrum
      names.</p></dd>
    <dt>bpi</dt><dd><p><code>bpi(signature(object="OnDiskMSnExp"), initial = TRUE,
      BPPARAM = bpparam())</code>:
      get the base peak intensity (BPI), i.e. the maximum intensity from
      each spectrum in the data set. If <code>initial = TRUE</code>, the
      information is extracted from the object's <code>featureData</code> and
      represents the bpi provided in the header of the original raw data
      files. For <code>initial = FALSE</code>, the BPI is calculated from the
      actual intensity values in each spectrum after applying all
      eventual data manipulation methods.
    See also https://github.com/lgatto/MSnbase/issues/332 for
      more details.
    <code>BPPARAM</code> parameter: see <code>spectra</code> method above.
    Returns a numeric vector with names corresponding to the spectrum
      names.</p></dd>
    <dt>featureNames</dt><dd><p><code><a href='Spectrum-class.html'>tic(signature(object="OnDiskMSnExp"))</a></code>: return a
      <code>character</code> of length <code><a href='pSet-class.html'>length(object)</a></code> containing the
      feature names. A replacement method is also available.</p></dd>
    <dt>spectrapply</dt><dd><p><code><a href='pSet-class.html'>spectrapply(signature(object = "OnDiskMSnExp"), FUN = NULL,
	BPPARAM = bpparam(), ...)</a></code>: applies the function <code>FUN</code> to each
      spectrum passing additional parameters in <code>...</code> to that
      function and return its results. For <code>FUN = NULL</code> it returns
      the list of spectra (same as a call to <code>spectra</code>). Parameter
      <code>BPPARAM</code> allows to specify how and if parallel processing
      should be enabled.
    Returns a list with the result for each of spectrum.</p></dd>
  </dl>
    
    <h2 class="hasAnchor" id="data-manipulation-methods"><a class="anchor" href="#data-manipulation-methods"></a>Data manipulation methods</h2>

    <p>(in alphabetical order)
  See also methods for <code><a href='MSnExp-class.html'>MSnExp</a></code> or
  <code><a href='pSet-class.html'>pSet</a></code> objects. In contrast to the same-named
  methods for <code><a href='pSet-class.html'>pSet</a></code> or <code><a href='MSnExp-class.html'>MSnExp</a></code>
  classes, the actual data manipulation is not performed immediately,
  but only on-demand, e.g. when intensity or M/Z values are loaded.</p>
<p></p><dl class='dl-horizontal'>
    <dt>clean</dt><dd><p><code><a href='clean-methods.html'>clean(signature(object="OnDiskMSnExp"), all=TRUE, verbose=TRUE)</a></code>:
      add an <em>clean</em> processing step to the lazy processing queue
      of the <code>OnDiskMSnExp</code> object. The <code>clean</code> command will
      only be executed when spectra information (including M/Z and
      intensity values) is requested from the <code>OnDiskMSnExp</code>
      object. Optional arguments to the methods are <code>all=TRUE</code> and
      <code>verbose=TRUE</code>.
    The method returns an <code>OnDiskMSnExp</code> object.
    For more details see documentation of the <code><a href='clean-methods.html'>clean</a></code>
      method.</p></dd>
    <dt>normalize</dt><dd><p><code><a href='normalise-methods.html'>normalize(signature(object="OnDiskMSnExp"), method=c("max",
	"sum"), ...)</a></code>:
      add a <code>normalize</code> processing step to the lazy processing
      queue of the returned <code>OnDiskMSnExp</code> object.
    The method returns an <code>OnDiskMSnExp</code> object.
    For more details see documentation of the
    <code><a href='normalise-methods.html'>normalize</a></code> method.</p></dd>
    <dt>removePeaks</dt><dd><p><code><a href='removePeaks-methods.html'>removePeaks(signature(object="OnDiskMSnExp"), t="min", verbose=TRUE)</a></code>:
      add a <code>removePeaks</code> processing step to the lazy processing
      queue of the returned <code>OnDiskMSnExp</code> object.
    The method returns an <code>OnDiskMSnExp</code> object.
    For more details see documentation of the <code><a href='removePeaks-methods.html'>removePeaks</a></code>
      method.</p></dd>
    <dt>trimMz</dt><dd><p><code><a href='trimMz-methods.html'>trimMz(signature(object="OnDiskMSnExp", mzlim="numeric"),...)</a></code>:
      add a <code>trimMz</code> processing step to the lazy processing queue
      of the returned <code>OnDiskMSnExp</code> object.
    The method returns an <code>OnDiskMSnExp</code> object.
    For more details see documentation of the <code><a href='trimMz-methods.html'>trimMz</a></code>
      method.</p></dd>
  </dl>
    
    <h2 class="hasAnchor" id="other-methods-and-functions"><a class="anchor" href="#other-methods-and-functions"></a>Other methods and functions</h2>

    <p></p><dl class='dl-horizontal'>
    <dt>validateOnDiskMSnExp</dt><dd><p><code>validateOnDiskMSnExp(signature(object = "OnDiskMSnExp"))</code>:
      validates an <code>OnDiskMSnExp</code> object and all of its spectra. In
      addition to the <em>standard</em> <code>validObject</code> method, this
      method reads also all spectra from the original files, applies
      eventual processing steps and evaluates their validity.</p></dd>
    <dt><code><a href='mzRident2dfr.html'>as(from, "MSnExp")</a></code></dt><dd><p>Converts the <code>OnDiskMSnExp</code>
      object <code>from</code>, to an in-memory <code>MSnExp</code>. Also available
      as an S3 method <code>as.MSnExp()</code>.</p></dd>
    </dl>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='pSet-class.html'>pSet</a></code>,
  <code><a href='MSnExp-class.html'>MSnExp</a></code>,
  <code><a href='readMSData.html'>readMSData</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Get some example mzML files</span>
<span class='fu'>library</span>(<span class='no'>msdata</span>)
<span class='no'>mzfiles</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fu'>system.file</span>(<span class='st'>"microtofq/MM14.mzML"</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"msdata"</span>),
             <span class='fu'>system.file</span>(<span class='st'>"microtofq/MM8.mzML"</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"msdata"</span>))
<span class='co'>## Read the data as an OnDiskMSnExp</span>
<span class='no'>odmse</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='readMSData.html'>readMSData</a></span>(<span class='no'>mzfiles</span>, <span class='kw'>msLevel</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>centroided</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'>## Get the length of data, i.e. the total number of spectra.</span>
<span class='fu'><a href='pSet-class.html'>length</a></span>(<span class='no'>odmse</span>)</div><div class='output co'>#&gt; [1] 310</div><div class='input'>
<span class='co'>## Get the MS level</span>
<span class='fu'>head</span>(<span class='fu'><a href='Spectrum-class.html'>msLevel</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;       1       1       1       1       1       1 </div><div class='input'>
<span class='co'>## Get the featureData, use fData to return as a data.frame</span>
<span class='fu'>head</span>(<span class='fu'>fData</span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt;         spectrum
#&gt; F1.S001        1
#&gt; F1.S002        2
#&gt; F1.S003        3
#&gt; F1.S004        4
#&gt; F1.S005        5
#&gt; F1.S006        6</div><div class='input'>
<span class='co'>## Get to know from which file the spectra are</span>
<span class='fu'>head</span>(<span class='fu'><a href='Spectrum-class.html'>fromFile</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;       1       1       1       1       1       1 </div><div class='input'>
<span class='co'>## And the file names:</span>
<span class='fu'><a href='pSet-class.html'>fileNames</a></span>(<span class='no'>odmse</span>)</div><div class='output co'>#&gt; [1] "/home/travis/R/Library/msdata/microtofq/MM14.mzML"
#&gt; [2] "/home/travis/R/Library/msdata/microtofq/MM8.mzML" </div><div class='input'>
<span class='co'>## Scan index and acquisitionNum</span>
<span class='fu'>head</span>(<span class='fu'><a href='Spectrum-class.html'>scanIndex</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;       1       2       3       4       5       6 </div><div class='input'><span class='fu'>head</span>(<span class='fu'><a href='Spectrum-class.html'>acquisitionNum</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;       1       2       3       4       5       6 </div><div class='input'>
<span class='co'>## Extract the spectra; the data is retrieved from the raw files.</span>
<span class='fu'>head</span>(<span class='fu'><a href='pSet-class.html'>spectra</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt; $F1.S001
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:30 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1378 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S002
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:31 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1356 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S003
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:31 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1404 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S004
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:31 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1496 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S005
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:32 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1525 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S006
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:32 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1498 
#&gt;  Polarity: 1 
#&gt; </div><div class='input'>
<span class='co'>## Extracting individual spectra or a subset is much faster.</span>
<span class='fu'><a href='pSet-class.html'>spectra</a></span>(<span class='no'>odmse</span>[<span class='fl'>1</span>:<span class='fl'>50</span>])</div><div class='output co'>#&gt; $F1.S001
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:30 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1378 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S002
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:31 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1356 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S003
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:31 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1404 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S004
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:31 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1496 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S005
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:32 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1525 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S006
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:32 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1498 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S007
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:32 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1484 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S008
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:33 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1532 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S009
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:33 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1532 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S010
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:33 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1513 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S011
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:34 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1563 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S012
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:34 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1522 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S013
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:34 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1571 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S014
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:35 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1553 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S015
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:35 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1606 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S016
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:35 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1583 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S017
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:36 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1567 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S018
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:36 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1662 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S019
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:36 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1628 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S020
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:37 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1604 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S021
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:37 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1647 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S022
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:37 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1594 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S023
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:38 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1643 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S024
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:38 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1673 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S025
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:38 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1695 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S026
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:39 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1595 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S027
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:39 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1592 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S028
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:39 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1614 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S029
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:40 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1558 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S030
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:40 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1539 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S031
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:40 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1532 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S032
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:41 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1546 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S033
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:41 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1506 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S034
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:41 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1428 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S035
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:42 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1448 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S036
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:42 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1431 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S037
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:42 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1393 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S038
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:43 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1409 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S039
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:43 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1410 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S040
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:43 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1342 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S041
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:44 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1366 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S042
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:44 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1351 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S043
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:44 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1367 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S044
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:45 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1342 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S045
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:45 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1365 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S046
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:45 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1379 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S047
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:46 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1325 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S048
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:46 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1349 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S049
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:46 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1383 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S050
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:47 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 1342 
#&gt;  Polarity: 1 
#&gt; </div><div class='input'>
<span class='co'>## Alternatively, we could also subset the whole object by spectra and/or samples:</span>
<span class='no'>subs</span> <span class='kw'>&lt;-</span> <span class='no'>odmse</span>[<span class='fu'><a href='Spectrum-class.html'>rtime</a></span>(<span class='no'>odmse</span>) <span class='kw'>&gt;=</span> <span class='fl'>2</span> <span class='kw'>&amp;</span> <span class='fu'><a href='Spectrum-class.html'>rtime</a></span>(<span class='no'>odmse</span>) <span class='kw'>&lt;=</span> <span class='fl'>20</span>, ]
<span class='fu'><a href='pSet-class.html'>fileNames</a></span>(<span class='no'>subs</span>)</div><div class='output co'>#&gt; [1] "/home/travis/R/Library/msdata/microtofq/MM8.mzML"</div><div class='input'><span class='fu'><a href='Spectrum-class.html'>rtime</a></span>(<span class='no'>subs</span>)</div><div class='output co'>#&gt;   F2.S006   F2.S007   F2.S008   F2.S009   F2.S010   F2.S011   F2.S012   F2.S013 
#&gt;  2.169000  2.506002  2.842998  3.178998  3.516000  3.852000  4.188000  4.525002 
#&gt;   F2.S014   F2.S015   F2.S016   F2.S017   F2.S018   F2.S019   F2.S020   F2.S021 
#&gt;  4.861002  5.197998  5.533998  5.871000  6.207000  6.544020  6.880020  7.216980 
#&gt;   F2.S022   F2.S023   F2.S024   F2.S025   F2.S026   F2.S027   F2.S028   F2.S029 
#&gt;  7.554000  7.891020  8.227020  8.563980  8.899980  9.237000  9.573000  9.910020 
#&gt;   F2.S030   F2.S031   F2.S032   F2.S033   F2.S034   F2.S035   F2.S036   F2.S037 
#&gt; 10.246020 10.582020 10.918980 11.254980 11.592000 11.928000 12.265020 12.601020 
#&gt;   F2.S038   F2.S039   F2.S040   F2.S041   F2.S042   F2.S043   F2.S044   F2.S045 
#&gt; 12.937020 13.273980 13.609980 13.947000 14.283000 14.620020 14.956020 15.292020 
#&gt;   F2.S046   F2.S047   F2.S048   F2.S049   F2.S050   F2.S051   F2.S052   F2.S053 
#&gt; 15.628980 15.964980 16.302000 16.638000 16.975020 17.311020 17.649000 17.986020 
#&gt;   F2.S054   F2.S055   F2.S056   F2.S057   F2.S058 
#&gt; 18.322980 18.660000 18.996000 19.333020 19.669020 </div><div class='input'>
<span class='co'>## Extract intensities and M/Z values per spectrum; the methods return a list,</span>
<span class='co'>## each element representing the values for one spectrum.</span>
<span class='no'>ints</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='Spectrum-class.html'>intensity</a></span>(<span class='no'>odmse</span>)
<span class='no'>mzs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='Spectrum-class.html'>mz</a></span>(<span class='no'>odmse</span>)

<span class='co'>## Return a data.frame with mz and intensity pairs for each spectrum from the</span>
<span class='co'>## object</span>
<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='pSet-class.html'>spectrapply</a></span>(<span class='no'>odmse</span>, <span class='kw'>FUN</span> <span class='kw'>=</span> <span class='no'>as</span>, <span class='kw'>Class</span> <span class='kw'>=</span> <span class='st'>"data.frame"</span>)

<span class='co'>## Calling removePeaks, i.e. setting intensity values below a certain threshold to 0.</span>
<span class='co'>## Unlike the name suggests, this is not actually removing peaks. Such peaks with a 0</span>
<span class='co'>## intensity are then removed by the "clean" step.</span>
<span class='co'>## Also, the manipulations are not applied directly, but put into the "lazy"</span>
<span class='co'>## processing queue.</span>
<span class='no'>odmse</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='removePeaks-methods.html'>removePeaks</a></span>(<span class='no'>odmse</span>, <span class='kw'>t</span><span class='kw'>=</span><span class='fl'>10000</span>)
<span class='no'>odmse</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='clean-methods.html'>clean</a></span>(<span class='no'>odmse</span>)

<span class='co'>## The processing steps are only applied when actual raw data is extracted.</span>
<span class='fu'><a href='pSet-class.html'>spectra</a></span>(<span class='no'>odmse</span>[<span class='fl'>1</span>:<span class='fl'>2</span>])</div><div class='output co'>#&gt; $F1.S001
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:30 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 0 
#&gt;  Polarity: 1 
#&gt; 
#&gt; $F1.S002
#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 4:31 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 0 
#&gt;  Polarity: 1 
#&gt; </div><div class='input'>
<span class='co'>## Get the polarity of the spectra.</span>
<span class='fu'>head</span>(<span class='fu'><a href='Spectrum-class.html'>polarity</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;       1       1       1       1       1       1 </div><div class='input'>
<span class='co'>## Get the retention time of all spectra</span>
<span class='fu'>head</span>(<span class='fu'><a href='Spectrum-class.html'>rtime</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt; 270.334 270.671 271.007 271.343 271.680 272.016 </div><div class='input'>
<span class='co'>## Get the intensities after removePeaks and clean</span>
<span class='no'>intsAfter</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='Spectrum-class.html'>intensity</a></span>(<span class='no'>odmse</span>)

<span class='fu'>head</span>(<span class='fu'>lengths</span>(<span class='no'>ints</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;    1378    1356    1404    1496    1525    1498 </div><div class='input'><span class='fu'>head</span>(<span class='fu'>lengths</span>(<span class='no'>intsAfter</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;       0       0       0       3       6       9 </div><div class='input'>
<span class='co'>## The same for the M/Z values</span>
<span class='no'>mzsAfter</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='Spectrum-class.html'>intensity</a></span>(<span class='no'>odmse</span>)
<span class='fu'>head</span>(<span class='fu'>lengths</span>(<span class='no'>mzs</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;    1378    1356    1404    1496    1525    1498 </div><div class='input'><span class='fu'>head</span>(<span class='fu'>lengths</span>(<span class='no'>mzsAfter</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;       0       0       0       3       6       9 </div><div class='input'>

<span class='co'>## Centroided or profile mode</span>
<span class='no'>f</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>msdata</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/msdata/topics/proteomics'>proteomics</a></span>(<span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                        <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"MS3TMT11.mzML"</span>)
<span class='no'>odmse</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='readMSData.html'>readMSData</a></span>(<span class='no'>f</span>, <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"onDisk"</span>)
<span class='fu'>validObject</span>(<span class='no'>odmse</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='no'>odmse</span><span class='kw'>[[</span><span class='fl'>1</span>]]</div><div class='output co'>#&gt; Object of class "Spectrum1"
#&gt;  Retention time: 45:27 
#&gt;  MSn level: 1 
#&gt;  Total ion count: 10768 
#&gt;  Polarity: 1 </div><div class='input'>
<span class='fu'>table</span>(<span class='fu'><a href='isCentroidedFromFile.html'>isCentroidedFromFile</a></span>(<span class='no'>odmse</span>), <span class='fu'><a href='Spectrum-class.html'>msLevel</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt;        
#&gt;           1   2   3
#&gt;   FALSE  30   0   0
#&gt;   TRUE    0 482 482</div><div class='input'>
<span class='co'>## centroided status could be set manually</span>
<span class='fu'><a href='Spectrum-class.html'>centroided</a></span>(<span class='no'>odmse</span>, <span class='kw'>msLevel</span> <span class='kw'>=</span> <span class='fl'>1</span>) <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='fu'><a href='Spectrum-class.html'>centroided</a></span>(<span class='no'>odmse</span>, <span class='kw'>msLevel</span> <span class='kw'>=</span> <span class='fl'>2</span>) <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='fu'><a href='Spectrum-class.html'>centroided</a></span>(<span class='no'>odmse</span>, <span class='kw'>msLevel</span> <span class='kw'>=</span> <span class='fl'>3</span>) <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>

<span class='co'>## or when reading the data</span>
<span class='no'>odmse2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='readMSData.html'>readMSData</a></span>(<span class='no'>f</span>, <span class='kw'>centroided</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>FALSE</span>, <span class='fl'>TRUE</span>, <span class='fl'>TRUE</span>),
                     <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"onDisk"</span>)
<span class='fu'>table</span>(<span class='fu'><a href='Spectrum-class.html'>centroided</a></span>(<span class='no'>odmse</span>), <span class='fu'><a href='Spectrum-class.html'>msLevel</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt;        
#&gt;           1   2   3
#&gt;   FALSE  30   0   0
#&gt;   TRUE    0 482 482</div><div class='input'>
<span class='co'>## Filtering precursor scans</span>

<span class='fu'>head</span>(<span class='fu'><a href='Spectrum-class.html'>acquisitionNum</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;   21945   21946   21947   21948   21949   21950 </div><div class='input'><span class='fu'>head</span>(<span class='fu'><a href='Spectrum-class.html'>msLevel</a></span>(<span class='no'>odmse</span>))</div><div class='output co'>#&gt; F1.S001 F1.S002 F1.S003 F1.S004 F1.S005 F1.S006 
#&gt;       1       2       2       3       2       2 </div><div class='input'>
<span class='co'>## Extract all spectra stemming from the first MS1 spectrum</span>
(<span class='no'>from1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='MSnExp-class.html'>filterPrecursorScan</a></span>(<span class='no'>odmse</span>, <span class='fl'>21945</span>))</div><div class='output co'>#&gt; MSn experiment data ("OnDiskMSnExp")
#&gt; Object size in memory: 0.05 Mb
#&gt; - - - Spectra data - - -
#&gt;  MS level(s): 1 2 3 
#&gt;  Number of spectra: 35 
#&gt;  MSn retention times: 45:27 - 45:30 minutes
#&gt; - - - Processing information - - -
#&gt; Data loaded [Thu Oct 18 11:17:12 2018] 
#&gt; Filter: select parent/children scans for 21945 [Thu Oct 18 11:17:13 2018] 
#&gt;  MSnbase version: 2.7.10 
#&gt; - - - Meta data  - - -
#&gt; phenoData
#&gt;   rowNames: MS3TMT11.mzML
#&gt;   varLabels: sampleNames
#&gt;   varMetadata: labelDescription
#&gt; Loaded from:
#&gt;   MS3TMT11.mzML 
#&gt; protocolData: none
#&gt; featureData
#&gt;   featureNames: F1.S001 F1.S002 ... F1.S035 (35 total)
#&gt;   fvarLabels: fileIdx spIdx ... spectrum (30 total)
#&gt;   fvarMetadata: labelDescription
#&gt; experimentData: use 'experimentData(object)'</div><div class='input'><span class='fu'>table</span>(<span class='fu'><a href='Spectrum-class.html'>msLevel</a></span>(<span class='no'>from1</span>))</div><div class='output co'>#&gt; 
#&gt;  1  2  3 
#&gt;  1 17 17 </div><div class='input'>

<span class='co'>## Extract the second sepctrum's parent (MS1) and children (MS3)</span>
<span class='co'>## spectra</span>
(<span class='no'>from2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='MSnExp-class.html'>filterPrecursorScan</a></span>(<span class='no'>odmse</span>, <span class='fl'>21946</span>))</div><div class='output co'>#&gt; MSn experiment data ("OnDiskMSnExp")
#&gt; Object size in memory: 0.03 Mb
#&gt; - - - Spectra data - - -
#&gt;  MS level(s): 1 2 3 
#&gt;  Number of spectra: 3 
#&gt;  MSn retention times: 45:27 - 45:27 minutes
#&gt; - - - Processing information - - -
#&gt; Data loaded [Thu Oct 18 11:17:12 2018] 
#&gt; Filter: select parent/children scans for 21946 [Thu Oct 18 11:17:14 2018] 
#&gt;  MSnbase version: 2.7.10 
#&gt; - - - Meta data  - - -
#&gt; phenoData
#&gt;   rowNames: MS3TMT11.mzML
#&gt;   varLabels: sampleNames
#&gt;   varMetadata: labelDescription
#&gt; Loaded from:
#&gt;   MS3TMT11.mzML 
#&gt; protocolData: none
#&gt; featureData
#&gt;   featureNames: F1.S001 F1.S002 F1.S004
#&gt;   fvarLabels: fileIdx spIdx ... spectrum (30 total)
#&gt;   fvarMetadata: labelDescription
#&gt; experimentData: use 'experimentData(object)'</div><div class='input'><span class='fu'>table</span>(<span class='fu'><a href='Spectrum-class.html'>msLevel</a></span>(<span class='no'>from2</span>))</div><div class='output co'>#&gt; 
#&gt; 1 2 3 
#&gt; 1 1 1 </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#details">Details</a></li>

      <li><a href="#objects-from-the-class">Objects from the Class</a></li>

      <li><a href="#slots">Slots</a></li>

      <li><a href="#extends">Extends</a></li>

      <li><a href="#getter-setter-methods">Getter/setter methods</a></li>

      <li><a href="#data-manipulation-methods">Data manipulation methods</a></li>

      <li><a href="#other-methods-and-functions">Other methods and functions</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
  Johannes Rainer &lt;johannes.rainer@eurac.edu&gt;

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

